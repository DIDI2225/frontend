<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Profil Utilisateur</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />



      <link rel="stylesheet" href="css/profil.css" />
    <!-- filepath: c:\Users\h\Desktop\PROJET\SITE\profil.html -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/
font-awesome/6.0.0-beta3/css/all.min.css"
    />
    
    
  </head>
  <body>
    <main>
      <header><h1>Votre profil</h1></header>
  <!--  autocomplete="off"
Cela désactive la saisie automatique du navigateur"  -->
      <section class="profile-info">
        <form id="profileForm" autocomplete="off">
          <label for="nom">Nom</label>
          <input type="text" id="nom" name="nom" required />

          <label for="prenom">Prénom</label>
          <input type="text" id="prenom" name="prenom" required />

          <label for="motdepasse">Mot de passe</label>
          <!-- <input type="password" required placeholder="mot de passe" /> -->

          <div style="position: relative; display: inline-block">
            <input type="password" required style="padding-right: 230px" />
            <i
              class="fa fa-eye"
              onclick="const input = this.previousElementSibling; input.type = input.type === 'password' ? 'text' : 'password'; this.classList.toggle('fa-eye-slash');"
              style="
                position: absolute;
                right: 8px;
                top: 50%;
                transform: translateY(-50%);
                cursor: pointer;
                color: #555;
              "
            ></i>
          </div>

          <label for="email">Adresse e-mail</label>
          <input type="email" id="email" name="email" required />

          <label for="telephone">Numéro de téléphone</label>
          <input type="tel" id="telephone" name="telephone" required />

          <label for="codepostal">Code postal</label>
          <input type="number" id="codepostal" name="codepostal" required />

          <label for="adresse">Adresse</label>
          <input type="text" id="adresse" name="adresse" required />

          <label for="pays">Pays</label>
          <input type="text" id="pays" name="pays" required />

          <button type="submit">Enregistrer les modifications</button>
        </form>
    <button class="btn-home" onclick="location.href='accueil.html'">
  Retour à l'accueil
</button>
        <button class="logout" onclick="location.href='login.html'">
          Se déconnecter
        </button>
        <p id="message" class="message"></p>
        



  
      </section>
    </main>

    <script>
      const form = document.getElementById("profileForm"),
        message = document.getElementById("message");
      // caaa pour la sauvgardation
      //  window.onload = () => {
      //  const data = JSON.parse(localStorage.getItem('userProfile') || '{}');
      // Object.entries(data).forEach(([key, val]) => {
      //   if(form[key]) form[key].value = val;
      // });
      //   };

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const userProfile = Object.fromEntries(new FormData(form).entries());

        /* localStorage.setItem('userProfile', JSON.stringify(userProfile));*/
        message.textContent =
          "✅ Vos modifications ont été enregistrées avec succès !";
        message.style.display = "block";
        setTimeout(() => (message.style.display = "none"), 90000);
      });
    </script>
  </body>
</html>
